{% extends "layout.html" %}

{% block body %}  
<div class="container contact-form" style="text-align: center;width: 55%;margin-top: 13%;">
    <h3 class="title"><strong>Cadastro de Candidato</strong></h3>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="alert alert-danger" style="width: 40%; margin:auto; margin-bottom: 1%;">
            {{ messages[0] }}
        </div>
    {% endif %}
    {% endwith %}
    <form id='formulario' action="/verificaCPF" method="POST" onsubmit="return validateForm()" style="margin-bottom: 5%;">
        <p>Para começar, informe o seu CPF.</p>
        <div class="field" style="margin-bottom: 1%;">
            <div class="col-lg-4 col-lg-offset-4">
                <input class="input form-control" type="text" id="cpf" name="cpf" autocomplete="off" autofocus style="text-align: center;">
                <p><span id="texto_cpf" style="color:rgb(207, 27, 27); display: none;">Digite um CPF Válido.</span></p>
            </div>
        </div>

        <div class="col-lg-4 col-lg-offset-4">
            <input type="submit" style="margin-top: 2.5%;margin-bottom: 8%;" id="button_proximo" class="btn btn-primary" value="Próximo">
        </div>
    </form>


    <script>
        function validateForm() {
            var cpf = $("#cpf").inputmask('unmaskedvalue');
            if(!TestaCPF(cpf)){
              $("#texto_cpf").css('display', 'inline-block'); 
              $("#cpf").prop("value", "");
              $("#cpf").focus();
              return false;
            }
            $("#button_proximo").prop("disabled",true);
        }
    </script>
</div>
{% endblock %}